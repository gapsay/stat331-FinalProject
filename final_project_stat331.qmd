---
title: "Final Project Stat331"
format: html
embed-resources: true
---

# Loading Packages and data

```{r}
library(tidyverse)
library(knitr)
life_exp_data <- read.csv("../stat331-FinalProject/lex.csv")
gdp_data <- read.csv("../stat331-FinalProject/gdp_pcap.csv")
```

# Cleaning the Data 

```{r}
life_exp_data <- life_exp_data |>
  pivot_longer(
    cols = X1800:X2100,
    names_to = "year",
    values_to = "life_expectancy") |>
  mutate(year = str_sub(year, start = 2),
         year = as.numeric(year))

gdp_data <- gdp_data |>
  mutate(across(.cols = X1800:X2100,
                .fns = ~as.character(.x))) |>
  pivot_longer(
    cols = X1800:X2100,
    names_to = "year",
    values_to = "gdp") |>
  mutate(year = str_sub(year, start = 2),
         year = as.numeric(year),
         gdp = as.numeric(gdp))

complete <- life_exp_data |>
  full_join(gdp_data, 
            join_by(country == country,
                    year == year))

head(complete) |>
  kable()

```